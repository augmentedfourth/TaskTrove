graph TD
    subgraph "Data"
        tasksAtom
        projectsAtom
        labelsAtom
        orderingAtom
    end

    subgraph "History"
        tasksHistoryAtom --> tasksAtom
        projectsHistoryAtom --> projectsAtom
        labelsHistoryAtom --> labelsAtom
        historyStateAtom --> tasksHistoryAtom
        historyStateAtom --> projectsHistoryAtom
        historyStateAtom --> labelsHistoryAtom
    end

    subgraph "Ordered & Sorted"
        orderedProjectsAtom --> orderingAtom
        orderedProjectsAtom --> projectsAtom
        orderedLabelsAtom --> orderingAtom
        orderedLabelsAtom --> labelsAtom
    end

    subgraph "Derived Tasks"
        activeTasksAtom --> tasksAtom
        completedTasksAtom --> activeTasksAtom
        inboxTasksAtom --> activeTasksAtom
        todayTasksAtom --> activeTasksAtom
        upcomingTasksAtom --> activeTasksAtom
        taskCountsAtom --> inboxTasksAtom
        taskCountsAtom --> todayTasksAtom
        taskCountsAtom --> upcomingTasksAtom
        filteredTasksAtom --> activeTasksAtom
    end

    subgraph "Derived Projects"
        projectByIdAtom --> projectsAtom
        projectTaskCountsAtom --> projectsAtom
        projectTaskCountsAtom --> activeTasksAtom
        currentProjectAtom --> projectsAtom
    end

    subgraph "Derived Labels"
        labelsMapAtom --> labelsAtom
        labelByIdAtom --> labelsMapAtom
    end
